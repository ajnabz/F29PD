{"ast":null,"code":"import _defineProperty from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'../index.css';import RegisterDwelling from'./RegisterDwelling';import{withCookies}from'react-cookie';import{MDBContainer,MDBCollapse}from'mdbreact';import{Button}from'react-bootstrap';var UserForm=/*#__PURE__*/function(_Component){_inherits(UserForm,_Component);function UserForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,UserForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UserForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={credentials:{username:'',password:'',password2:'',email:'',first_name:'',surname:'',phone_number:'',dwelling_code:'',incentivisation_choice:'SM',goal:0,admin_type:'SA',logged_in:true,collapseID:''}};_this.toggleCollapse=function(collapseID){return function(){_this.setState(function(prevState){return{collapseID:prevState.collapseID!==collapseID?collapseID:''};});};};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});if(_this.state.username===\"\"){alert(\"username required\");_this.setState.username=\"\";}else if(_this.state.username===\"admin\"){_this.setState.username=\"\";}if(_this.state.email!==/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i){_this.setState.email=\"\";}if(!_this.state.password){_this.setState.password=\"\";}else if(_this.state.password!==/^(?=.{8,})/i){_this.setState.password=\"\";}if(!_this.state.password2){_this.setState.password2=\"\";}else if(_this.state.password2!==/^(?=.{8,})/i){_this.setState.password2=\"\";}if(_this.state.password2!==_this.state.password){_this.setState.password2=\"\";}if(!_this.state.password){_this.setState.password=\"\";}else if(_this.state.password!==/^(?=.{8,})/i){_this.setState.password=\"\";}if(!_this.state.first_name){_this.setState.first_name=\"\";}else if(_this.state.first_name>/^(?=.{20,})/i){_this.setState.first_name=\"\";}if(!_this.state.surname){_this.setState.surname=\"\";}else if(_this.state.surname>/^(?=.{20,})/i){_this.setState.surname=\"\";}if(!_this.state.phone_number){_this.setState.phone_number=\"\";}else if(_this.state.phone_number!==/^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i){_this.setState.phone_number=\"\";}else if(_this.state.phone_number!==/^(((\\0\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\0\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\0\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i){_this.setState.phone_number=\"\";}};_this.register=function(event){fetch('http://oko-api.herokuapp.com/account/users/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_this.state.credentials)}).then(function(res){if(res.ok){window.location.href='/';}else{alert(\"Invalid information, please reenter your details correctly\");window.location.href='/Oko/RegisterUser';}}).catch(function(error){return console.log(error);});};return _this;}_createClass(UserForm,[{key:\"render\",value:function render(){var collapseID=this.state.collapseID;return React.createElement(\"div\",null,React.createElement(\"img\",{src:require('../images/background4.jpeg'),style:{width:'100%',position:'absolute'},className:\"login_img1\"}),React.createElement(\"img\",{src:require('../images/background4.jpeg'),className:\"login_img2\"}),React.createElement(\"div\",{class:\"centered\",style:{marginTop:'0px',width:'100%'}},React.createElement(\"div\",{className:\"login-container\",style:_defineProperty({margin:'0'},\"margin\",'0px 200px 0px')},React.createElement(\"h1\",{className:\"login\"},\"Register User Account\"),React.createElement(\"br\",null),React.createElement(\"table\",{style:{width:'70vw'}},React.createElement(\"tr\",{style:{width:'100%'}},React.createElement(\"td\",{style:{width:'50%',paddingRight:'10px'}},React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" First Name(s)\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"first_name\",value:this.state.credentials.first_name,onChange:this.inputChanged}),React.createElement(\"br\",null)),React.createElement(\"td\",{style:{width:'50%'}},React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Last Name\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"surname\",value:this.state.credentials.surname,onChange:this.inputChanged}),React.createElement(\"br\",null))),React.createElement(\"tr\",null,React.createElement(\"td\",{style:{width:'50%',paddingRight:'10px'}},React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Username\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"username\",value:this.state.credentials.username,onChange:this.inputChanged}),React.createElement(\"br\",null)),React.createElement(\"td\",null,React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Email\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"email\",name:\"email\",value:this.state.credentials.email,onChange:this.inputChanged}),React.createElement(\"br\",null))),React.createElement(\"tr\",null,React.createElement(\"td\",{style:{width:'50%',paddingRight:'10px'}},React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Password \",React.createElement(\"span\",{style:{fontSize:\"0.70em\"}},\"(Must be eight characters or longer)\")),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"password\",name:\"password\",value:this.state.credentials.password,onChange:this.inputChanged})),React.createElement(\"td\",null,React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Confirm Password\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"password\",name:\"password2\",value:this.state.credentials.password2,onChange:this.inputChanged}))),React.createElement(\"tr\",null,React.createElement(\"td\",{style:{width:'50%',paddingRight:'10px'}},React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Phone Number \"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"tel\",name:\"phone_number\",value:this.state.credentials.phone_number,onChange:this.inputChanged})),React.createElement(\"td\",null,React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\" Dwelling Code\"),React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"dwelling_code\",value:this.state.credentials.dwelling_code,onChange:this.inputChanged})))),React.createElement(\"span\",{className:\"login-fill\"},React.createElement(\"span\",{style:{color:\"red\"}},\"*\"),\"Incentivisation Choice\"),React.createElement(\"br\",null),React.createElement(\"form\",null,React.createElement(\"div\",{className:\"radio\"},React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",value:\"SM\",checked:this.state.selectedOption==='SM',onChange:this.handleOptionChange}),\"  \",\"Save Money\")),React.createElement(\"div\",{className:\"radio\"},React.createElement(\"label\",null,React.createElement(\"input\",{type:\"radio\",value:\"HE\",checked:this.state.selectedOption==='HE',onChange:this.handleOptionChange}),\"  \",\"Help The Environment\"))),React.createElement(\"div\",null,React.createElement(\"p\",null,\"By clicking Register, you agree to our \",React.createElement(\"a\",{style:{color:\"blue\"},href:\"/Oko/TermsAndConditions\"},\"Terms and Conditions\"),\".\")),React.createElement(\"a\",null,React.createElement(\"button\",{onClick:this.register,className:\"login_button\",style:{style:'100%'}},\"Register Account\")),React.createElement(\"a\",{href:\"/Oko/EnterCode\",style:{color:'#38687E'}},\"Enter Dwelling Code\"),React.createElement(\"br\",null),React.createElement(\"a\",{href:\"/Oko/RegisterDwelling\",style:{color:'#38687E'}},\"Back to Register Dwelling\"),React.createElement(\"br\",null),React.createElement(\"a\",{href:\"/\",style:{color:'#38687E'}},\"Back to Login\"))));}}]);return UserForm;}(Component);export default withCookies(UserForm);","map":{"version":3,"sources":["/Users/abbieprescott/Documents/GitHub/F29PD/src/components/RegUserAcc.js"],"names":["React","Component","RegisterDwelling","withCookies","MDBContainer","MDBCollapse","Button","UserForm","state","credentials","username","password","password2","email","first_name","surname","phone_number","dwelling_code","incentivisation_choice","goal","admin_type","logged_in","collapseID","toggleCollapse","setState","prevState","inputChanged","event","cred","target","name","value","alert","register","fetch","method","headers","body","JSON","stringify","then","res","ok","window","location","href","catch","error","console","log","require","width","position","marginTop","margin","paddingRight","color","fontSize","selectedOption","handleOptionChange","style"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../index.css';\nimport RegisterDwelling from './RegisterDwelling';\nimport { withCookies } from 'react-cookie';\nimport { MDBContainer, MDBCollapse } from 'mdbreact';\nimport { Button } from 'react-bootstrap';\n\nclass UserForm extends Component {\n    state = {\n        credentials: {\n            username: '',\n            password: '',\n            password2: '',\n            email: '',\n            first_name: '',\n            surname: '',\n            phone_number: '',\n            dwelling_code: '',\n            incentivisation_choice: 'SM',\n            goal: 0,\n            admin_type: 'SA',\n            logged_in: true,\n            collapseID: ''\n        },\n    }\n\n    toggleCollapse = collapseID => () => {\n        this.setState(prevState => ({\n            collapseID: prevState.collapseID !== collapseID ? collapseID : ''\n        }));\n    };\n\n    inputChanged = event => {\n\n        let cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n        this.setState({ credentials: cred });\n\n        if (this.state.username === \"\") {\n            alert(\"username required\");\n            this.setState.username = \"\";\n        } else if (this.state.username === \"admin\") {\n            this.setState.username = \"\";\n        }\n\n        if ((this.state.email) !== /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i) {\n            this.setState.email = \"\";\n        }\n\n        if (!this.state.password) {\n            this.setState.password = \"\";\n        } else if (this.state.password !== /^(?=.{8,})/i) {\n            this.setState.password = \"\";\n        }\n\n        if (!this.state.password2) {\n            this.setState.password2 = \"\";\n        } else if (this.state.password2 !== /^(?=.{8,})/i) {\n            this.setState.password2 = \"\";\n        }\n\n        if (this.state.password2 !== this.state.password) {\n            this.setState.password2 = \"\";\n        }\n\n        if (!this.state.password) {\n            this.setState.password = \"\";\n        } else if (this.state.password !== /^(?=.{8,})/i) {\n            this.setState.password = \"\";\n        }\n\n        if (!this.state.first_name) {\n            this.setState.first_name = \"\";\n        } else if (this.state.first_name > /^(?=.{20,})/i) {\n            this.setState.first_name = \"\";\n        }\n\n        if (!this.state.surname) {\n            this.setState.surname = \"\";\n        } else if (this.state.surname > /^(?=.{20,})/i) {\n            this.setState.surname = \"\";\n        }\n\n        if (!this.state.phone_number) {\n            this.setState.phone_number = \"\";\n        } else if (this.state.phone_number !== /^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n            this.setState.phone_number = \"\";\n        } else if (this.state.phone_number !== /^(((\\0\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\0\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\0\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n            this.setState.phone_number = \"\";\n        }\n    }\n\n    register = event => {\n        fetch('http://oko-api.herokuapp.com/account/users/', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.state.credentials)\n        }) .then(res => {\n            if(res.ok) {\n                window.location.href = '/'\n            } else {\n                alert(\"Invalid information, please reenter your details correctly\")\n                window.location.href = '/Oko/RegisterUser'\n            }\n        }).catch(error => console.log(error))\n    }\n\n    render() {\n        const { collapseID } = this.state;\n\n        return (\n            <div>\n                <img src={require('../images/background4.jpeg')} style={{ width: '100%', position: 'absolute' }} className=\"login_img1\"></img>\n                <img src={require('../images/background4.jpeg')} className=\"login_img2\"></img>\n                <div class=\"centered\" style={{ marginTop: '0px', width: '100%' }}>\n\n                    <div className=\"login-container\" style={{margin:'0', margin:'0px 200px 0px'}}>\n                        <h1 className=\"login\">Register User Account</h1>\n                        <br></br>\n                        <table style={{ width: '70vw' }}>\n                            <tr style={{ width: '100%' }}>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> First Name(s)</span><br />\n                                    <input type=\"text\" name=\"first_name\" value={this.state.credentials.first_name} onChange={this.inputChanged} /><br />\n                                </td>\n                                <td style={{ width: '50%' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Last Name</span><br />\n                                    <input type=\"text\" name=\"surname\" value={this.state.credentials.surname} onChange={this.inputChanged} /><br />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Username</span><br />\n                                    <input type=\"text\" name=\"username\" value={this.state.credentials.username} onChange={this.inputChanged} /><br />\n                                </td>\n                                <td>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Email</span><br />\n                                    <input type=\"email\" name=\"email\" value={this.state.credentials.email} onChange={this.inputChanged} /><br />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Password <span style={{ fontSize: \"0.70em\" }}>(Must be eight characters or longer)</span></span><br />\n                                    <input type=\"password\" name=\"password\" value={this.state.credentials.password} onChange={this.inputChanged} />\n                                </td>\n                                <td>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Confirm Password</span><br />\n                                    <input type=\"password\" name=\"password2\" value={this.state.credentials.password2} onChange={this.inputChanged} />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Phone Number </span><br />\n                                    <input type=\"tel\" name=\"phone_number\" value={this.state.credentials.phone_number} onChange={this.inputChanged} />\n                                </td>\n                                <td>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Dwelling Code</span><br />\n                                    <input type=\"text\" name=\"dwelling_code\" value={this.state.credentials.dwelling_code} onChange={this.inputChanged} />\n                                </td>\n                            </tr>\n                        </table>\n                        <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span>Incentivisation Choice</span><br></br>\n                        <form>\n                            <div className=\"radio\">\n                                <label>\n                                    <input type=\"radio\" value=\"SM\" checked={this.state.selectedOption === 'SM'} onChange={this.handleOptionChange} />\n                                    {\"  \"}Save Money\n                                        </label>\n                            </div>\n                            <div className=\"radio\">\n                                <label>\n                                    <input type=\"radio\" value=\"HE\" checked={this.state.selectedOption === 'HE'} onChange={this.handleOptionChange} />\n                                    {\"  \"}Help The Environment\n                                        </label>\n                            </div>\n                        </form>\n                        <div>\n                            <p>By clicking Register, you agree to our <a style={{ color: \"blue\" }} href=\"/Oko/TermsAndConditions\">Terms and Conditions</a>.</p>\n                        </div>\n                        <a ><button onClick={this.register} className=\"login_button\" style={{style:'100%'}}>Register Account</button></a>\n                        <a href=\"/Oko/EnterCode\" style={{ color: '#38687E' }}>Enter Dwelling Code</a><br></br>\n                        <a href=\"/Oko/RegisterDwelling\" style={{ color: '#38687E' }}>Back to Register Dwelling</a><br></br>\n                        <a href=\"/\" style={{ color: '#38687E' }}>Back to Login</a>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\nexport default withCookies(UserForm);"]},"metadata":{},"sourceType":"module"}