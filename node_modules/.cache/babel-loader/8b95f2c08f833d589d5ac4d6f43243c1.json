{"ast":null,"code":"import _defineProperty from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abbieprescott/Documents/GitHub/F29PD/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{MDBContainer,MDBBtn,MDBModal,MDBModalBody,MDBModalHeader,MDBModalFooter}from'mdbreact';import Form from'react-bootstrap/Form';var AddRoom=/*#__PURE__*/function(_Component){_inherits(AddRoom,_Component);function AddRoom(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddRoom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddRoom)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={modal:false,credentials:{room_code:'ABC-XYZ_5',related_dwelling:'4',room_name:'Connors Bedroom',data:{related_room:'ABC-XYZ_5',co2:'0',humidity:'0',temperature:'0'},devices:{device_code:'ABC-XYZ_5_1',device_name:'Fridge',mac_address:'0',energy_used:'0',state:false,room:'ABC-XYZ_5'},suggestion:{id:'',related_room:'ABC-XYZ_5',suggestion:'Kick out Connor'}}};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.inputChanged=function(event){var cred=_this.state.credentials;cred[event.target.name]=event.target.value;_this.setState({credentials:cred});};_this.registerRoom=function(event){console.log(_this.state.credentials);fetch('https://oko-api.herokuapp.com/dwelling/room/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({room_code:_this.state.credentials.room_code,related_dwelling:_this.state.credentials.related_dwelling,room_name:_this.state.credentials.room_name})}).then(function(res){console.log(res.token);}).catch(function(error){return console.log(error);});};_this.registerDevice=function(event){console.log(_this.state.credentials);fetch('https://oko-api.herokuapp.com/dwelling/device/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({device_code:_this.state.credentials.devices.device_code,device_name:_this.state.credentials.devices.device_name,mac_address:_this.state.credentials.devices.mac_address,energy_used:_this.state.credentials.devices.energy_used,state:_this.state.credentials.devices.state,room:_this.state.credentials.devices.room})}).then(function(res){console.log(res.token);}).catch(function(error){return console.log(error);});};_this.registerData=function(event){console.log(_this.state.credentials);fetch('https://oko-api.herokuapp.com/dwelling/data/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({related_room:_this.state.credentials.data.related_room,co2:_this.state.credentials.data.co2,humidity:_this.state.credentials.data.humidity,temperature:_this.state.credentials.data.temperature})}).then(function(res){console.log(res.token);}).catch(function(error){return console.log(error);});};_this.registerSuggestion=function(event){console.log(_this.state.credentials);fetch('https://oko-api.herokuapp.com/dwelling/suggestion/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:_this.state.credentials.suggestion.id,related_room:_this.state.credentials.suggestion.related_room,suggestion:_this.state.credentials.suggestion.suggestion})}).then(function(res){console.log(res.token);}).catch(function(error){return console.log(error);});};return _this;}_createClass(AddRoom,[{key:\"render\",value:function render(props){var _React$createElement;return React.createElement(MDBContainer,null,React.createElement(MDBBtn,{onClick:this.toggle},\"Add a New Room\"),React.createElement(MDBModal,{isOpen:this.state.modal,toggle:this.toggle},React.createElement(MDBModalHeader,{toggle:this.toggle,style:{color:'black'}},\"Add Room\"),React.createElement(MDBModalBody,null,React.createElement(Form,null,React.createElement(Form.Group,{controlId:\"exampleForm.ControlInput1\"},React.createElement(Form.Label,{style:{color:'black'}},\"Room Name\"),React.createElement(\"input\",{type:\"text\",name:\"room_name\",placeholder:\"Example device\",value:this.state.credentials.room_name,onChange:this.inputChanged}),React.createElement(Form.Label,{style:{color:'black'}},\"Device Name\"),React.createElement(\"input\",{type:\"text\",name:\"device_name\",placeholder:\"Example device\",value:this.state.credentials.devices.device_name,onChange:this.inputChanged})))),React.createElement(MDBModalFooter,null,React.createElement(MDBBtn,{color:\"secondary\",onClick:this.toggle},\"Close\"),React.createElement(MDBBtn,(_React$createElement={color:\"primary\",onClick:this.registerRoom},_defineProperty(_React$createElement,\"onClick\",this.registerData),_defineProperty(_React$createElement,\"onClick\",this.registerDevice),_defineProperty(_React$createElement,\"onClick\",this.registerSuggestion),_React$createElement),\"Save changes\"))));}}]);return AddRoom;}(Component);export default AddRoom;","map":{"version":3,"sources":["/Users/abbieprescott/Documents/GitHub/F29PD/src/components/AddRoomModal.js"],"names":["React","Component","MDBContainer","MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","Form","AddRoom","state","modal","credentials","room_code","related_dwelling","room_name","data","related_room","co2","humidity","temperature","devices","device_code","device_name","mac_address","energy_used","room","suggestion","id","toggle","setState","inputChanged","event","cred","target","name","value","registerRoom","console","log","fetch","method","headers","body","JSON","stringify","then","res","token","catch","error","registerDevice","registerData","registerSuggestion","props","color"],"mappings":"49BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,YAAT,CAAuBC,MAAvB,CAA+BC,QAA/B,CAAyCC,YAAzC,CAAuDC,cAAvD,CAAuEC,cAAvE,KAA6F,UAA7F,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,C,GAGMC,CAAAA,O,mYACJC,K,CAAQ,CACNC,KAAK,CAAE,KADD,CAENC,WAAW,CAAE,CACXC,SAAS,CAAE,WADA,CAEXC,gBAAgB,CAAE,GAFP,CAGXC,SAAS,CAAE,iBAHA,CAIXC,IAAI,CAAE,CACJC,YAAY,CAAE,WADV,CAEJC,GAAG,CAAE,GAFD,CAGJC,QAAQ,CAAE,GAHN,CAIJC,WAAW,CAAE,GAJT,CAJK,CAUXC,OAAO,CAAC,CACNC,WAAW,CAAE,aADP,CAENC,WAAW,CAAE,QAFP,CAGNC,WAAW,CAAE,GAHP,CAINC,WAAW,CAAE,GAJP,CAKNf,KAAK,CAAE,KALD,CAMNgB,IAAI,CAAE,WANA,CAVG,CAkBXC,UAAU,CAAE,CACVC,EAAE,CAAE,EADM,CAEVX,YAAY,CAAE,WAFJ,CAGVU,UAAU,CAAE,iBAHF,CAlBD,CAFP,C,OA4BRE,M,CAAS,UAAM,CACb,MAAKC,QAAL,CAAc,CACZnB,KAAK,CAAE,CAAC,MAAKD,KAAL,CAAWC,KADP,CAAd,EAGD,C,OAEDoB,Y,CAAe,SAAAC,KAAK,CAAI,CACtB,GAAIC,CAAAA,IAAI,CAAG,MAAKvB,KAAL,CAAWE,WAAtB,CACAqB,IAAI,CAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,CAAJ,CAA0BH,KAAK,CAACE,MAAN,CAAaE,KAAvC,CACA,MAAKN,QAAL,CAAc,CAAElB,WAAW,CAAEqB,IAAf,CAAd,EACD,C,OAEDI,Y,CAAe,SAAAL,KAAK,CAAI,CACtBM,OAAO,CAACC,GAAR,CAAY,MAAK7B,KAAL,CAAWE,WAAvB,EACA4B,KAAK,CAAC,8CAAD,CAAiD,CACpDC,MAAM,CAAE,MAD4C,CAEpDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF2C,CAGpDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAEnBhC,SAAS,CAAE,MAAKH,KAAL,CAAWE,WAAX,CAAuBC,SAFf,CAGnBC,gBAAgB,CAAE,MAAKJ,KAAL,CAAWE,WAAX,CAAuBE,gBAHtB,CAInBC,SAAS,CAAE,MAAKL,KAAL,CAAWE,WAAX,CAAuBG,SAJf,CAAf,CAH8C,CAAjD,CAAL,CASG+B,IATH,CASQ,SAAAC,GAAG,CAAI,CACbT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,KAAhB,EACD,CAXD,EAYGC,KAZH,CAYS,SAAAC,KAAK,QAAIZ,CAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ,CAAJ,EAZd,EAaD,C,OAEDC,c,CAAiB,SAAAnB,KAAK,CAAI,CACxBM,OAAO,CAACC,GAAR,CAAY,MAAK7B,KAAL,CAAWE,WAAvB,EACA4B,KAAK,CAAC,gDAAD,CAAmD,CACtDC,MAAM,CAAE,MAD8C,CAEtDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF6C,CAGtDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBvB,WAAW,CAAE,MAAKZ,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BC,WADzB,CAEnBC,WAAW,CAAE,MAAKb,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BE,WAFzB,CAGnBC,WAAW,CAAE,MAAKd,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BG,WAHzB,CAInBC,WAAW,CAAE,MAAKf,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BI,WAJzB,CAKnBf,KAAK,CAAE,MAAKA,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BX,KALnB,CAMnBgB,IAAI,CAAE,MAAKhB,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BK,IANlB,CAAf,CAHgD,CAAnD,CAAL,CAWGoB,IAXH,CAWQ,SAAAC,GAAG,CAAI,CACbT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,KAAhB,EACD,CAbD,EAcGC,KAdH,CAcS,SAAAC,KAAK,QAAIZ,CAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ,CAAJ,EAdd,EAeD,C,OAEDE,Y,CAAe,SAAApB,KAAK,CAAI,CACtBM,OAAO,CAACC,GAAR,CAAY,MAAK7B,KAAL,CAAWE,WAAvB,EACA4B,KAAK,CAAC,8CAAD,CAAiD,CACpDC,MAAM,CAAE,MAD4C,CAEpDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF2C,CAGpDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB5B,YAAY,CAAE,MAAKP,KAAL,CAAWE,WAAX,CAAuBI,IAAvB,CAA4BC,YADvB,CAEnBC,GAAG,CAAE,MAAKR,KAAL,CAAWE,WAAX,CAAuBI,IAAvB,CAA4BE,GAFd,CAGnBC,QAAQ,CAAE,MAAKT,KAAL,CAAWE,WAAX,CAAuBI,IAAvB,CAA4BG,QAHnB,CAInBC,WAAW,CAAE,MAAKV,KAAL,CAAWE,WAAX,CAAuBI,IAAvB,CAA4BI,WAJtB,CAAf,CAH8C,CAAjD,CAAL,CASG0B,IATH,CASQ,SAAAC,GAAG,CAAI,CACbT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,KAAhB,EACD,CAXD,EAYGC,KAZH,CAYS,SAAAC,KAAK,QAAIZ,CAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ,CAAJ,EAZd,EAaD,C,OAEDG,kB,CAAqB,SAAArB,KAAK,CAAI,CAC5BM,OAAO,CAACC,GAAR,CAAY,MAAK7B,KAAL,CAAWE,WAAvB,EACA4B,KAAK,CAAC,oDAAD,CAAuD,CAC1DC,MAAM,CAAE,MADkD,CAE1DC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFiD,CAG1DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBjB,EAAE,CAAE,MAAKlB,KAAL,CAAWE,WAAX,CAAuBe,UAAvB,CAAkCC,EADnB,CAEnBX,YAAY,CAAE,MAAKP,KAAL,CAAWE,WAAX,CAAuBe,UAAvB,CAAkCV,YAF7B,CAGnBU,UAAU,CAAE,MAAKjB,KAAL,CAAWE,WAAX,CAAuBe,UAAvB,CAAkCA,UAH3B,CAAf,CAHoD,CAAvD,CAAL,CAQGmB,IARH,CAQQ,SAAAC,GAAG,CAAI,CACbT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,KAAhB,EACD,CAVD,EAWGC,KAXH,CAWS,SAAAC,KAAK,QAAIZ,CAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ,CAAJ,EAXd,EAYD,C,yEAEMI,K,CAAO,0BAEZ,MACE,qBAAC,YAAD,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKzB,MAAtB,mBADF,CAEE,oBAAC,QAAD,EAAU,MAAM,CAAE,KAAKnB,KAAL,CAAWC,KAA7B,CAAoC,MAAM,CAAE,KAAKkB,MAAjD,EACE,oBAAC,cAAD,EAAgB,MAAM,CAAE,KAAKA,MAA7B,CAAqC,KAAK,CAAE,CAAE0B,KAAK,CAAE,OAAT,CAA5C,aADF,CAEE,oBAAC,YAAD,MACE,oBAAC,IAAD,MACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,2BAAtB,EACE,oBAAC,IAAD,CAAM,KAAN,EAAY,KAAK,CAAE,CAAEA,KAAK,CAAE,OAAT,CAAnB,cADF,CAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,WAAW,CAAC,gBAAhD,CAAiE,KAAK,CAAE,KAAK7C,KAAL,CAAWE,WAAX,CAAuBG,SAA/F,CAA0G,QAAQ,CAAE,KAAKgB,YAAzH,EAFF,CAGE,oBAAC,IAAD,CAAM,KAAN,EAAY,KAAK,CAAE,CAAEwB,KAAK,CAAE,OAAT,CAAnB,gBAHF,CAIE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,aAAxB,CAAsC,WAAW,CAAC,gBAAlD,CAAmE,KAAK,CAAE,KAAK7C,KAAL,CAAWE,WAAX,CAAuBS,OAAvB,CAA+BE,WAAzG,CAAsH,QAAQ,CAAE,KAAKQ,YAArI,EAJF,CADF,CADF,CAFF,CAYE,oBAAC,cAAD,MACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,WAAd,CAA0B,OAAO,CAAE,KAAKF,MAAxC,UADF,CAEE,oBAAC,MAAD,wBAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,KAAKQ,YAAtC,iDAA6D,KAAKe,YAAlE,iDAAyF,KAAKD,cAA9F,iDAAuH,KAAKE,kBAA5H,uCAFF,CAZF,CAFF,CADF,CAsBD,C,qBAtImBpD,S,EAyItB,cAAeQ,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport Form from 'react-bootstrap/Form'\n\n\nclass AddRoom extends Component {\n  state = {\n    modal: false,\n    credentials: {\n      room_code: 'ABC-XYZ_5',\n      related_dwelling: '4',\n      room_name: 'Connors Bedroom',\n      data: {\n        related_room: 'ABC-XYZ_5',\n        co2: '0',\n        humidity: '0',\n        temperature: '0'\n      },\n      devices:{\n        device_code: 'ABC-XYZ_5_1',\n        device_name: 'Fridge',\n        mac_address: '0',\n        energy_used: '0',\n        state: false,\n        room: 'ABC-XYZ_5'\n      },\n      suggestion: {\n        id: '',\n        related_room: 'ABC-XYZ_5',\n        suggestion: 'Kick out Connor'\n      }\n    }\n  }\n\n  toggle = () => {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  inputChanged = event => {\n    let cred = this.state.credentials;\n    cred[event.target.name] = event.target.value;\n    this.setState({ credentials: cred });\n  }\n\n  registerRoom = event => {\n    console.log(this.state.credentials);\n    fetch('https://oko-api.herokuapp.com/dwelling/room/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        \n        room_code: this.state.credentials.room_code,\n        related_dwelling: this.state.credentials.related_dwelling,\n        room_name: this.state.credentials.room_name,\n    })\n    }).then(res => {\n      console.log(res.token);\n    })\n      .catch(error => console.log(error))\n  }\n\n  registerDevice = event => {\n    console.log(this.state.credentials);\n    fetch('https://oko-api.herokuapp.com/dwelling/device/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        device_code: this.state.credentials.devices.device_code,\n        device_name: this.state.credentials.devices.device_name,\n        mac_address: this.state.credentials.devices.mac_address,\n        energy_used: this.state.credentials.devices.energy_used,\n        state: this.state.credentials.devices.state,\n        room: this.state.credentials.devices.room\n      })\n    }).then(res => {\n      console.log(res.token);\n    })\n      .catch(error => console.log(error))\n  }\n\n  registerData = event => {\n    console.log(this.state.credentials);\n    fetch('https://oko-api.herokuapp.com/dwelling/data/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        related_room: this.state.credentials.data.related_room,\n        co2: this.state.credentials.data.co2,\n        humidity: this.state.credentials.data.humidity,\n        temperature: this.state.credentials.data.temperature\n      })\n    }).then(res => {\n      console.log(res.token);\n    })\n      .catch(error => console.log(error))\n  }\n\n  registerSuggestion = event => {\n    console.log(this.state.credentials);\n    fetch('https://oko-api.herokuapp.com/dwelling/suggestion/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        id: this.state.credentials.suggestion.id,\n        related_room: this.state.credentials.suggestion.related_room,\n        suggestion: this.state.credentials.suggestion.suggestion\n      })\n    }).then(res => {\n      console.log(res.token);\n    })\n      .catch(error => console.log(error))\n  }\n\n  render(props) {\n\n    return (\n      <MDBContainer>\n        <MDBBtn onClick={this.toggle}>Add a New Room</MDBBtn>\n        <MDBModal isOpen={this.state.modal} toggle={this.toggle}>\n          <MDBModalHeader toggle={this.toggle} style={{ color: 'black' }}>Add Room</MDBModalHeader>\n          <MDBModalBody>\n            <Form>\n              <Form.Group controlId=\"exampleForm.ControlInput1\">\n                <Form.Label style={{ color: 'black' }}>Room Name</Form.Label>\n                <input type=\"text\" name=\"room_name\" placeholder=\"Example device\" value={this.state.credentials.room_name} onChange={this.inputChanged} />\n                <Form.Label style={{ color: 'black' }}>Device Name</Form.Label>\n                <input type=\"text\" name=\"device_name\" placeholder=\"Example device\" value={this.state.credentials.devices.device_name} onChange={this.inputChanged} />\n              </Form.Group>\n            </Form>\n          </MDBModalBody>\n          <MDBModalFooter>\n            <MDBBtn color=\"secondary\" onClick={this.toggle}>Close</MDBBtn>\n            <MDBBtn color=\"primary\" onClick={this.registerRoom} onClick={this.registerData} onClick={this.registerDevice} onClick={this.registerSuggestion}>Save changes</MDBBtn>\n          </MDBModalFooter>\n        </MDBModal>\n      </MDBContainer>\n    );\n  }\n}\n\nexport default AddRoom;"]},"metadata":{},"sourceType":"module"}