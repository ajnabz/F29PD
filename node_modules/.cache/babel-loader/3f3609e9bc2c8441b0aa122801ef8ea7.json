{"ast":null,"code":"var _jsxFileName = \"/Users/abbieprescott/Documents/GitHub/F29PD/src/components/login.js\";\nimport React, { Component } from 'react';\nimport '../index.css';\nimport { withCookies } from 'react-cookie';\nimport okologo from '../images/okologotext.png';\nimport LoginConfirmation from './loginConfirmation';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: 'Connor',\n        password: '',\n        email: 'connor@gmail.com',\n        collapseID: '',\n        logged_in: true\n      },\n      isLoginView: true,\n      userAccount: []\n    };\n\n    this.toggleCollapse = collapseID => () => {\n      this.setState(prevState => ({\n        collapseID: prevState.collapseID !== collapseID ? collapseID : ''\n      }));\n    };\n\n    this.inputChanged = event => {\n      let cred = this.state.credentials;\n      cred[event.target.name] = event.target.value;\n      this.setState({\n        credentials: cred\n      });\n      console.log(cred);\n    };\n\n    this.login = event => {\n      console.log(this.state.credentials);\n      fetch(`https://oko-api.herokuapp.com/account/users/${this.state.credentials.username}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.credentials.logged_in)\n      }).then(res => {\n        console.log(res.token);\n      }).catch(error => console.log(error));\n    };\n\n    this.toggleView = () => {\n      this.setState({\n        isLoginView: !this.state.isLoginView\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(`http://oko-api.herokuapp.com/account/users/${this.state.credentials.username}`, {\n      method: 'GET',\n      headers: {//'Authorization': 'Token 53aaf969d1e6ee660f11a9cb99da97338232d86e'\n      }\n    }).then(resp => resp.json()).then(resp => this.setState({\n      userAccount: resp\n    })).catch(error => console.log(error));\n  }\n\n  render() {\n    const {\n      collapseID\n    } = this.state;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../images/background4.jpeg'),\n      style: {\n        width: '100%',\n        position: 'absolute'\n      },\n      className: \"login_img1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: require('../images/background4.jpeg'),\n      className: \"login_img2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"https://flonne.me/\",\n      className: \"f_button\",\n      target: \"_tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo\",\n      src: okologo,\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"login-container\",\n      style: {\n        paddingBottom: '0px',\n        marginBottom: '0',\n        marginLeft: '0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.isLoginView ? 'Login' : 'Register')), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.isLoginView ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(LoginConfirmation, {\n      userAccount: this.state.userAccount,\n      cred: this.state.credentials,\n      login: this.state.login,\n      username: this.state.credentials.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Do you have a home account?\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: '50%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/Oko/EnterCode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"dwellCode_button\",\n      style: {\n        marginBottom: '5em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Yes\"))), React.createElement(\"td\", {\n      style: {\n        width: '50%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/Oko/RegisterDwelling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"dwellCode_button\",\n      style: {\n        marginBottom: '5em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"No\"))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })))), React.createElement(\"button\", {\n      onClick: this.login,\n      className: \"login_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      onClick: this.toggleView,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.isLoginView ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"dwellCode_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Create Account\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"/Oko/ForgottenPassword\",\n      style: {\n        color: '#38687E'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Forgot Password?\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"https://flonne.me/\",\n      target: \"_blank\",\n      style: {\n        color: '#38687E',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Want to find out more about OKO?\")) : React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Back to Login\"))));\n  }\n\n}\n\nexport default withCookies(Login);","map":{"version":3,"sources":["/Users/abbieprescott/Documents/GitHub/F29PD/src/components/login.js"],"names":["React","Component","withCookies","okologo","LoginConfirmation","Login","state","credentials","username","password","email","collapseID","logged_in","isLoginView","userAccount","toggleCollapse","setState","prevState","inputChanged","event","cred","target","name","value","console","log","login","fetch","method","headers","body","JSON","stringify","then","res","token","catch","error","toggleView","componentDidMount","resp","json","render","require","width","position","paddingBottom","marginBottom","marginLeft","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../index.css';\nimport { withCookies } from 'react-cookie';\nimport okologo from '../images/okologotext.png';\nimport LoginConfirmation from './loginConfirmation';\n\nclass Login extends Component {\n\n    state = {\n        credentials: {\n            username: 'Connor',\n            password: '',\n            email: 'connor@gmail.com',\n            collapseID: '',\n            logged_in: true\n        },\n        isLoginView: true,\n        userAccount: []\n    }\n\n    componentDidMount() {\n        fetch(`http://oko-api.herokuapp.com/account/users/${this.state.credentials.username}`, {\n            method: 'GET',\n            headers: {\n                //'Authorization': 'Token 53aaf969d1e6ee660f11a9cb99da97338232d86e'\n            }\n        }).then(resp => resp.json())\n            .then(resp => this.setState({ userAccount: resp }))\n            .catch(error => console.log(error))\n    }\n\n    toggleCollapse = collapseID => () => {\n        this.setState(prevState => ({\n            collapseID: prevState.collapseID !== collapseID ? collapseID : ''\n        }));\n    };\n\n    inputChanged = event => {\n        let cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n        this.setState({ credentials: cred });\n        console.log(cred);\n    }\n\n    login = event => {\n        console.log(this.state.credentials);\n        fetch(`https://oko-api.herokuapp.com/account/users/${this.state.credentials.username}`, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.state.credentials.logged_in)\n        }).then(res => {\n            console.log(res.token);\n        })\n            .catch(error => console.log(error))\n    }\n\n\n    toggleView = () => {\n        this.setState({ isLoginView: !this.state.isLoginView });\n    }\n\n    render() {\n        const { collapseID } = this.state;\n\n        return (\n            <React.Fragment>\n\n                <img src={require('../images/background4.jpeg')} style={{ width: '100%', position: 'absolute' }} className=\"login_img1\"></img>\n                <img src={require('../images/background4.jpeg')} className=\"login_img2\"></img>\n\n                <div class=\"centered\">\n\n                    <a href=\"https://flonne.me/\" className=\"f_button\" target='_tab'><img className=\"logo\" src={okologo} alt=\"logo\"></img></a>\n                    <div className=\"login-container\" style={{ paddingBottom: '0px', marginBottom: '0', marginLeft: '0' }}>\n\n                        <h1 className=\"login\">\n                            {this.state.isLoginView ? 'Login' : 'Register'}\n                        </h1>\n                    </div>\n                    <br />\n\n                    <div>\n                        {this.state.isLoginView ?\n\n                            <React.Fragment>\n                                <span className=\"login-fill\">Username</span><br />\n                                <input type=\"text\" name=\"username\" value={this.state.credentials.username}\n                                    onChange={this.inputChanged} /><br />\n                                <span className=\"login-fill\">Password</span><br />\n                                <input type=\"password\" name=\"password\" value={this.state.credentials.password}\n                                    onChange={this.inputChanged} />\n                                <LoginConfirmation userAccount={this.state.userAccount} cred={this.state.credentials} login={this.state.login} username={this.state.credentials.username}></LoginConfirmation>\n                            </React.Fragment>\n                            :\n                            <React.Fragment>\n                                <div>\n                                    <br></br>\n                                    <br></br>\n                                    <h3>Do you have a home account?</h3>\n                                    <br></br>\n                                    <table style={{ width: '100%' }}>\n                                        <tr>\n                                            <td style={{ width: '50%' }}>\n                                                <a href=\"/Oko/EnterCode\"><button className=\"dwellCode_button\" style={{ marginBottom: '5em' }}>Yes</button></a>\n                                            </td>\n                                            <td style={{ width: '50%' }}>\n                                                <a href='/Oko/RegisterDwelling'><button className=\"dwellCode_button\" style={{ marginBottom: '5em' }}>No</button></a>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                    <br></br>\n                                </div>\n                            </React.Fragment>\n                        }\n                    </div>\n\n                    <button onClick={this.login} className=\"login_button\">Login</button>\n\n\n                    <p onClick={this.toggleView}>\n                        {this.state.isLoginView ?\n                            <React.Fragment>\n                                <br></br>\n                                <button className='dwellCode_button'>Create Account</button>\n                                <br></br><br></br>\n                                <a href=\"/Oko/ForgottenPassword\" style={{ color: '#38687E' }}>Forgot Password?</a><br></br>\n                                <a href=\"https://flonne.me/\" target='_blank' style={{ color: '#38687E', fontWeight:'bold' }}>Want to find out more about OKO?</a>\n                            </React.Fragment>\n                            : <a>Back to Login</a>}\n                    </p>\n                </div >\n\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default withCookies(Login);\n"]},"metadata":{},"sourceType":"module"}