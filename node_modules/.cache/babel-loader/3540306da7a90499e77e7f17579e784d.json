{"ast":null,"code":"var _jsxFileName = \"/Users/abbieprescott/Documents/GitHub/F29PD/src/components/RegUserAcc.js\";\nimport React, { Component } from 'react';\nimport '../index.css';\nimport RegisterDwelling from './RegisterDwelling';\nimport { withCookies } from 'react-cookie';\nimport { MDBContainer, MDBCollapse } from 'mdbreact';\nimport { Button } from 'react-bootstrap';\n\nclass UserForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: '',\n        password: '',\n        password2: '',\n        email: '',\n        first_name: '',\n        surname: '',\n        phone_number: '',\n        collapseID: '',\n        dwelling_code: '',\n        incentivisation_choice: '',\n        goal: 0,\n        admin_type: 'SA',\n        logged_in: false\n      }\n    };\n\n    this.toggleCollapse = collapseID => () => {\n      this.setState(prevState => ({\n        collapseID: prevState.collapseID !== collapseID ? collapseID : ''\n      }));\n    };\n\n    this.inputChanged = event => {\n      let cred = this.state.credentials;\n      cred[event.target.name] = event.target.value;\n\n      if (!this.state.username) {\n        this.setState.username = \"Required\";\n      } else if (this.state.username === \"admin\") {\n        this.setState.username = \"Nice try!\";\n      }\n\n      if (this.state.email !== /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i) {\n        this.setState.email = \"Invalid email address\";\n      }\n\n      if (!this.state.password) {\n        this.setState.password = \"Required\";\n      } else if (this.state.password !== /^(?=.{8,})/i) {\n        this.setState.password = \"Invalid password\";\n      }\n\n      if (!this.state.confirmPassword) {\n        this.setState.confirmPassword = \"Required\";\n      } else if (this.state.confirmPassword !== /^(?=.{8,})/i) {\n        this.setState.confirmPassword = \"Invalid password\";\n      }\n\n      if (this.state.confirmPassword !== this.state.password) {\n        this.setState.confirmPassword = \"Passwords do not match\";\n      }\n\n      if (!this.state.password) {\n        this.setState.password = \"Required\";\n      } else if (this.state.password !== /^(?=.{8,})/i) {\n        this.setState.password = \"Invalid password\";\n      }\n\n      if (!this.state.firstname) {\n        this.setState.firstname = \"Required\";\n      } else if (this.state.firstname > /^(?=.{20,})/i) {\n        this.setState.firstname = \"Name is too long\";\n      }\n\n      if (!this.state.lastname) {\n        this.setState.lastname = \"Required\";\n      } else if (this.state.lastname > /^(?=.{20,})/i) {\n        this.setState.lastname = \"Name is too long\";\n      }\n\n      if (!this.state.tel) {\n        this.setState.tel = \"Required\";\n      } else if (this.state.tel !== /^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n        this.setState.tel = \"Invalid phone number\";\n      } else if (this.state.tel !== /^(((\\0\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\0\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\0\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n        this.setState.tel = \"Invalid phone number\";\n      }\n    };\n\n    this.register = event => {\n      console.log(this.state.credentials);\n      alert(\"Account Registered\");\n      fetch('oko-api.herokuapp.com/account/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.credentials)\n      }).catch(error => console.log(error));\n    };\n  }\n\n  render() {\n    const {\n      collapseID\n    } = this.state;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('../images/background4.jpeg'),\n      style: {\n        width: '100%',\n        position: 'absolute'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"centered\",\n      style: {\n        marginTop: '0px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-container\",\n      style: {\n        margin: '0',\n        margin: '0px 200px 0px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Register User Account\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      style: {\n        width: '70vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: '50%',\n        paddingRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"*\"), \" First Name(s)\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"firstname\",\n      value: this.state.credentials.firstname,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      style: {\n        width: '50%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"*\"), \" Last Name\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lastname\",\n      value: this.state.credentials.lastname,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: '50%',\n        paddingRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"*\"), \" Username\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"*\"), \" Email\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.credentials.email,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: '50%',\n        paddingRight: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"*\"), \" Password \", React.createElement(\"span\", {\n      style: {\n        fontSize: \"0.70em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"(Must be eight characters or longer)\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"Password\",\n      value: this.state.credentials.Password,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"*\"), \" Confirm Password\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password2\",\n      value: this.state.credentials.password2,\n      onChange: this.inputChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })))), React.createElement(\"span\", {\n      className: \"login-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"*\"), \"Incentivisation Choice\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"SM\",\n      checked: this.state.selectedOption === 'SM',\n      onChange: this.handleOptionChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), \"  \", \"Save Money\")), React.createElement(\"div\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"HE\",\n      checked: this.state.selectedOption === 'HE',\n      onChange: this.handleOptionChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), \"  \", \"Help The Environment\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"By clicking Register, you agree to our \", React.createElement(\"a\", {\n      style: {\n        color: \"blue\"\n      },\n      href: \"/Oko/TermsAndConditions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Terms and Conditions\"), \".\")), React.createElement(\"a\", {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.register,\n      className: \"login_button\",\n      style: {\n        style: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Register Account\")), React.createElement(\"a\", {\n      href: \"/Oko/EnterCode\",\n      style: {\n        color: '#38687E'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Enter Dwelling Code\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"/Oko/RegisterDwelling\",\n      style: {\n        color: '#38687E'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Back to Register Dwelling\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"/\",\n      style: {\n        color: '#38687E'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Back to Login\"))));\n  }\n\n}\n\nexport default withCookies(UserForm);","map":{"version":3,"sources":["/Users/abbieprescott/Documents/GitHub/F29PD/src/components/RegUserAcc.js"],"names":["React","Component","RegisterDwelling","withCookies","MDBContainer","MDBCollapse","Button","UserForm","state","credentials","username","password","password2","email","first_name","surname","phone_number","collapseID","dwelling_code","incentivisation_choice","goal","admin_type","logged_in","toggleCollapse","setState","prevState","inputChanged","event","cred","target","name","value","confirmPassword","firstname","lastname","tel","register","console","log","alert","fetch","method","headers","body","JSON","stringify","catch","error","render","require","width","position","marginTop","margin","paddingRight","color","fontSize","Password","selectedOption","handleOptionChange","style"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../index.css';\nimport RegisterDwelling from './RegisterDwelling';\nimport { withCookies } from 'react-cookie';\nimport { MDBContainer, MDBCollapse } from 'mdbreact';\nimport { Button } from 'react-bootstrap';\n\nclass UserForm extends Component {\n    state = {\n        credentials: {\n            username: '',\n            password: '',\n            password2: '',\n            email: '',\n            first_name: '',\n            surname: '',\n            phone_number: '',\n            collapseID: '',\n            dwelling_code: '',\n            incentivisation_choice: '',\n            goal: 0,\n            admin_type: 'SA',\n            logged_in: false\n        }\n    }\n    toggleCollapse = collapseID => () => {\n        this.setState(prevState => ({\n            collapseID: prevState.collapseID !== collapseID ? collapseID : ''\n        }));\n    };\n    inputChanged = event => {\n        let cred = this.state.credentials;\n        cred[event.target.name] = event.target.value;\n\n\n        if (!this.state.username) {\n            this.setState.username = \"Required\";\n        } else if (this.state.username === \"admin\") {\n            this.setState.username = \"Nice try!\";\n        }\n\n        if ((this.state.email) !== /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i) {\n            this.setState.email = \"Invalid email address\";\n        }\n\n        if (!this.state.password) {\n            this.setState.password = \"Required\";\n        } else if (this.state.password !== /^(?=.{8,})/i) {\n            this.setState.password = \"Invalid password\";\n        }\n\n        if (!this.state.confirmPassword) {\n            this.setState.confirmPassword = \"Required\";\n        } else if (this.state.confirmPassword !== /^(?=.{8,})/i) {\n            this.setState.confirmPassword = \"Invalid password\";\n        }\n\n        if (this.state.confirmPassword !== this.state.password) {\n            this.setState.confirmPassword = \"Passwords do not match\";\n        }\n\n        if (!this.state.password) {\n            this.setState.password = \"Required\";\n        } else if (this.state.password !== /^(?=.{8,})/i) {\n            this.setState.password = \"Invalid password\";\n        }\n\n        if (!this.state.firstname) {\n            this.setState.firstname = \"Required\";\n        } else if (this.state.firstname > /^(?=.{20,})/i) {\n            this.setState.firstname = \"Name is too long\";\n        }\n\n        if (!this.state.lastname) {\n            this.setState.lastname = \"Required\";\n        } else if (this.state.lastname > /^(?=.{20,})/i) {\n            this.setState.lastname = \"Name is too long\";\n        }\n\n        if (!this.state.tel) {\n            this.setState.tel = \"Required\";\n        } else if (this.state.tel !== /^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n            this.setState.tel = \"Invalid phone number\";\n        } else if (this.state.tel !== /^(((\\0\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\0\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\0\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?(\\d{4}|\\d{3}))?$/i) {\n            this.setState.tel = \"Invalid phone number\";\n        }\n\n    }\n\n    register = event => {\n        console.log(this.state.credentials);\n        alert(\"Account Registered\");\n        fetch('oko-api.herokuapp.com/account/register', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.state.credentials)\n        })\n            .catch(error => console.log(error))\n    }\n\n    render() {\n        const { collapseID } = this.state;\n\n        return (\n            <React.Fragment>\n                <img src={require('../images/background4.jpeg')} style={{ width: '100%', position: 'absolute' }}></img>\n                <div class=\"centered\" style={{ marginTop: '0px', width: '100%' }}>\n\n                    <div className=\"login-container\" style={{margin:'0', margin:'0px 200px 0px'}}>\n                        <h1 className=\"login\">Register User Account</h1>\n                        <br></br>\n                        <table style={{ width: '70vw' }}>\n                            <tr style={{ width: '100%' }}>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> First Name(s)</span><br />\n                                    <input type=\"text\" name=\"firstname\" value={this.state.credentials.firstname} onChange={this.inputChanged} /><br />\n                                </td>\n                                <td style={{ width: '50%' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Last Name</span><br />\n                                    <input type=\"text\" name=\"lastname\" value={this.state.credentials.lastname} onChange={this.inputChanged} /><br />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Username</span><br />\n                                    <input type=\"text\" name=\"username\" value={this.state.credentials.username} onChange={this.inputChanged} /><br />\n                                </td>\n                                <td>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Email</span><br />\n                                    <input type=\"email\" name=\"email\" value={this.state.credentials.email} onChange={this.inputChanged} /><br />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style={{ width: '50%', paddingRight: '10px' }}>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Password <span style={{ fontSize: \"0.70em\" }}>(Must be eight characters or longer)</span></span><br />\n                                    <input type=\"password\" name=\"Password\" value={this.state.credentials.Password} onChange={this.inputChanged} />\n                                </td>\n                                <td>\n                                    <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span> Confirm Password</span><br />\n                                    <input type=\"password\" name=\"password2\" value={this.state.credentials.password2} onChange={this.inputChanged} />\n                                </td>\n                            </tr>\n                        </table>\n                        <span className=\"login-fill\"><span style={{ color: \"red\" }}>*</span>Incentivisation Choice</span><br></br>\n                        <form>\n                            <div className=\"radio\">\n                                <label>\n                                    <input type=\"radio\" value=\"SM\" checked={this.state.selectedOption === 'SM'} onChange={this.handleOptionChange} />\n                                    {\"  \"}Save Money\n                                        </label>\n                            </div>\n                            <div className=\"radio\">\n                                <label>\n                                    <input type=\"radio\" value=\"HE\" checked={this.state.selectedOption === 'HE'} onChange={this.handleOptionChange} />\n                                    {\"  \"}Help The Environment\n                                        </label>\n                            </div>\n                        </form>\n                        <div>\n                            <p>By clicking Register, you agree to our <a style={{ color: \"blue\" }} href=\"/Oko/TermsAndConditions\">Terms and Conditions</a>.</p>\n                        </div>\n                        <a href=\"/\"><button onClick={this.register} className=\"login_button\" style={{style:'100%'}}>Register Account</button></a>\n                        <a href=\"/Oko/EnterCode\" style={{ color: '#38687E' }}>Enter Dwelling Code</a><br></br>\n                        <a href=\"/Oko/RegisterDwelling\" style={{ color: '#38687E' }}>Back to Register Dwelling</a><br></br>\n                        <a href=\"/\" style={{ color: '#38687E' }}>Back to Login</a>\n                    </div>\n                </div>\n\n            </React.Fragment>\n        );\n    }\n}\nexport default withCookies(UserForm);"]},"metadata":{},"sourceType":"module"}